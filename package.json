{
  "name": "vscode-xpath-copier",
  "displayName": "XPath Copier",
  "description": "Copy XPaths in various formats from XML/HTML/XHTML files.",
  "version": "1.3.0",
  "publisher": "Sammy",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": [
    "Other"
  ],
  "icon": "icon.png",
  "activationEvents": [
    "onLanguage:xml",
    "onLanguage:html",
    "onLanguage:xhtml"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "xpathCopier.copyXPathBreadcrumbFull",
        "title": "XPath: Copy (Breadcrumb - Full)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbFullNamesOnly",
        "title": "XPath: Copy (Breadcrumb - Full - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbCompact",
        "title": "XPath: Copy (Breadcrumb - Compact)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbCompactNamesOnly",
        "title": "XPath: Copy (Breadcrumb - Compact - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathFull",
        "title": "XPath: Copy (Full)"
      },
      {
        "command": "xpathCopier.copyXPathFullNamesOnly",
        "title": "XPath: Copy (Full - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathCompact",
        "title": "XPath: Copy (Compact)"
      },
      {
        "command": "xpathCopier.copyXPathCompactNamesOnly",
        "title": "XPath: Copy (Compact - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbFullSkip",
        "title": "XPath: Copy w/ skipping (Breadcrumb - Full)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbFullNamesOnlySkip",
        "title": "XPath: Copy w/ skipping (Breadcrumb - Full - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbCompactSkip",
        "title": "XPath: Copy w/ skipping (Breadcrumb - Compact)"
      },
      {
        "command": "xpathCopier.copyXPathBreadcrumbCompactNamesOnlySkip",
        "title": "XPath: Copy w/ skipping (Breadcrumb - Compact - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathFullSkip",
        "title": "XPath: Copy w/ skipping (Full)"
      },
      {
        "command": "xpathCopier.copyXPathFullNamesOnlySkip",
        "title": "XPath: Copy w/ skipping (Full - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathCompactSkip",
        "title": "XPath: Copy w/ skipping (Compact)"
      },
      {
        "command": "xpathCopier.copyXPathCompactNamesOnlySkip",
        "title": "XPath: Copy w/ skipping (Compact - Names Only)"
      },
      {
        "command": "xpathCopier.copyXPathQuickPick",
        "title": "XPath: Copy…"
      },
      {
        "command": "xpathCopier.copyXPathReverse",
        "title": "XPath: Go To…"
      }
    ],
    "submenus": [
      {
        "id": "xpath",
        "label": "XPath"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "submenu": "xpath",
          "when": "(editorLangId == 'xml' || editorLangId == 'html' || editorLangId == 'xhtml') && editorTextFocus",
          "group": "navigation"
        }
      ],
      "xpath": [
        {
          "command": "xpathCopier.copyXPathBreadcrumbFull",
          "group": "1_noSkip@1",
          "when": "config.xpathCopier.enableCommands.breadcrumbFull"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbFullNamesOnly",
          "group": "1_noSkip@2",
          "when": "config.xpathCopier.enableCommands.breadcrumbFullNamesOnly"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbCompact",
          "group": "1_noSkip@3",
          "when": "config.xpathCopier.enableCommands.breadcrumbCompact"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbCompactNamesOnly",
          "group": "1_noSkip@4",
          "when": "config.xpathCopier.enableCommands.breadcrumbCompactNamesOnly"
        },
        {
          "command": "xpathCopier.copyXPathFull",
          "group": "1_noSkip@5",
          "when": "config.xpathCopier.enableCommands.full"
        },
        {
          "command": "xpathCopier.copyXPathFullNamesOnly",
          "group": "1_noSkip@6",
          "when": "config.xpathCopier.enableCommands.fullNamesOnly"
        },
        {
          "command": "xpathCopier.copyXPathCompact",
          "group": "1_noSkip@7",
          "when": "config.xpathCopier.enableCommands.compact"
        },
        {
          "command": "xpathCopier.copyXPathCompactNamesOnly",
          "group": "1_noSkip@8",
          "when": "config.xpathCopier.enableCommands.compactNamesOnly"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbFullSkip",
          "group": "2_skip@1",
          "when": "config.xpathCopier.enableCommands.breadcrumbFullSkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbFullNamesOnlySkip",
          "group": "2_skip@2",
          "when": "config.xpathCopier.enableCommands.breadcrumbFullNamesOnlySkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbCompactSkip",
          "group": "2_skip@3",
          "when": "config.xpathCopier.enableCommands.breadcrumbCompactSkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathBreadcrumbCompactNamesOnlySkip",
          "group": "2_skip@4",
          "when": "config.xpathCopier.enableCommands.breadcrumbCompactNamesOnlySkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathFullSkip",
          "group": "2_skip@5",
          "when": "config.xpathCopier.enableCommands.fullSkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathFullNamesOnlySkip",
          "group": "2_skip@6",
          "when": "config.xpathCopier.enableCommands.fullNamesOnlySkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathCompactSkip",
          "group": "2_skip@7",
          "when": "config.xpathCopier.enableCommands.compactSkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathCompactNamesOnlySkip",
          "group": "2_skip@8",
          "when": "config.xpathCopier.enableCommands.compactNamesOnlySkip && xpathCopier.hasApplicableSkipRules"
        },
        {
          "command": "xpathCopier.copyXPathQuickPick",
          "group": "3_other@1",
          "when": "config.xpathCopier.enableCommands.quickPick"
        },
        {
          "command": "xpathCopier.copyXPathReverse",
          "group": "3_other@2",
          "when": "config.xpathCopier.enableCommands.reverse"
        }
      ]
    },
    "keybindings": [
      {
        "key": "ctrl+shift+x",
        "command": "xpathCopier.copyXPathQuickPick",
        "when": "editorTextFocus && (resourceLangId == xml || resourceLangId == html || resourceLangId == xhtml)"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "XPath Copier",
      "properties": {
        "xpathCopier.enableContextMenu": {
          "type": "boolean",
          "default": true,
          "description": "Enable the context menu entries for copying XPath."
        },
        "xpathCopier.enableCommands": {
          "type": "object",
          "default": {
            "breadcrumbFull": false,
            "breadcrumbFullNamesOnly": false,
            "breadcrumbCompact": true,
            "breadcrumbCompactNamesOnly": true,
            "full": true,
            "fullNamesOnly": false,
            "compact": true,
            "compactNamesOnly": true,
            "breadcrumbFullSkip": false,
            "breadcrumbFullNamesOnlySkip": false,
            "breadcrumbCompactSkip": false,
            "breadcrumbCompactNamesOnlySkip": true,
            "fullSkip": false,
            "fullNamesOnlySkip": false,
            "compactSkip": true,
            "compactNamesOnlySkip": false,
            "quickPick": true,
            "reverse": true
          },
          "properties": {
            "breadcrumbFull": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Breadcrumb - Full)' command."
            },
            "breadcrumbFullNamesOnly": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Breadcrumb - Full - Names Only)' command."
            },
            "breadcrumbCompact": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Breadcrumb - Compact)' command."
            },
            "breadcrumbCompactNamesOnly": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Breadcrumb - Compact - Names Only)' command."
            },
            "full": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Full)' command."
            },
            "fullNamesOnly": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Full - Names Only)' command."
            },
            "compact": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Compact)' command."
            },
            "compactNamesOnly": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy (Compact - Names Only)' command."
            },
            "breadcrumbFullSkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Breadcrumb - Full)' command."
            },
            "breadcrumbFullNamesOnlySkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Breadcrumb - Full - Names Only)' command."
            },
            "breadcrumbCompactSkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Breadcrumb - Compact)' command."
            },
            "breadcrumbCompactNamesOnlySkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Breadcrumb - Compact - Names Only)' command."
            },
            "fullSkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Full)' command."
            },
            "fullNamesOnlySkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Full - Names Only)' command."
            },
            "compactSkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Compact)' command."
            },
            "compactNamesOnlySkip": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy w/ skipping (Compact - Names Only)' command."
            },
            "quickPick": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Copy…' (Quick Pick) command."
            },
            "reverse": {
              "type": "boolean",
              "default": true,
              "description": "Enable 'XPath: Go To…' command."
            }
          },
          "description": "Enable or disable specific commands and menu items."
        },
        "xpathCopier.languages": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "xml",
            "html",
            "xhtml"
          ],
          "description": "Additional languages that should activate XPath copier commands."
        },
        "xpathCopier.enableQuickPick": {
          "type": "boolean",
          "default": true,
          "description": "Enable a unified QuickPick for choosing which XPath format to copy."
        },
        "xpathCopier.enableFormats": {
          "type": "object",
          "default": {
            "full": true,
            "compact": true,
            "namesOnly": true,
            "namedFull": true,
            "namedCompact": true,
            "breadcrumb": true
          },
          "properties": {
            "full": {
              "type": "boolean",
              "default": true,
              "description": "Enable the full XPath format."
            },
            "compact": {
              "type": "boolean",
              "default": true,
              "description": "Enable the compact XPath format."
            },
            "namesOnly": {
              "type": "boolean",
              "default": true,
              "description": "Enable the names-only XPath format."
            },
            "namedFull": {
              "type": "boolean",
              "default": true,
              "description": "Enable the named full XPath format."
            },
            "namedCompact": {
              "type": "boolean",
              "default": true,
              "description": "Enable the named compact XPath format."
            },
            "breadcrumb": {
              "type": "boolean",
              "default": true,
              "description": "Enable the breadcrumb format."
            }
          },
          "description": "Enable or disable specific XPath formats."
        },
        "xpathCopier.multicursorFormat": {
          "type": "string",
          "default": "lines",
          "enum": [
            "lines",
            "json"
          ],
          "description": "Format for multiple XPaths: either newline-separated lines or JSON array."
        },
        "xpathCopier.customFormatTemplates": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Custom XPath format templates. Each template may contain ${tag}, ${index}, and ${name} variables."
        },
        "xpathCopier.enableElementSkipping": {
          "type": "boolean",
          "default": false,
          "description": "Enable skipping specific elements in XPath output based on file patterns."
        },
        "xpathCopier.skipRules": {
          "type": "array",
          "default": [
            {
              "filePattern": "**/*.xsd",
              "elementsToSkip": [
                "xs:sequence",
                "xs:choice",
                "xs:any",
                "xs:all"
              ]
            }
          ],
          "items": {
            "type": "object",
            "properties": {
              "filePattern": {
                "type": "string",
                "description": "Glob pattern for files (e.g., **/*.xsd, **/*.xml)"
              },
              "elementsToSkip": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Array of element names to skip in XPath output"
              }
            },
            "required": [
              "filePattern",
              "elementsToSkip"
            ]
          },
          "description": "Rules for skipping elements in XPath based on file patterns. Each rule specifies a file pattern and list of element names to omit."
        },
        "xpathCopier.nameAttributes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "name"
          ],
          "description": "List of attributes to check for element names, in order of preference (e.g., ['name', 'id', 'label']). The first matching attribute found will be used."
        },
        "xpathCopier.showInQuickPick": {
          "type": "boolean",
          "default": false,
          "description": "Show the generated XPath in a Quick Pick dialog for manual copy/paste."
        },
        "xpathCopier.copyToClipboard": {
          "type": "boolean",
          "default": true,
          "description": "Automatically copy the generated XPath to the clipboard."
        },
        "xpathCopier.openInNewEditor": {
          "type": "boolean",
          "default": false,
          "description": "Open the generated XPath in a new untitled editor window."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run esbuild-prod",
    "esbuild-base": "node esbuild.js",
    "esbuild": "npm run esbuild-base",
    "esbuild-prod": "npm run esbuild-base -- --production",
    "esbuild-watch": "npm run esbuild-base -- --watch",
    "compile": "npm run esbuild",
    "watch": "npm run esbuild-watch",
    "pretest": "tsc -p ./",
    "test": "mocha --require ts-node/register test/formats.test.ts test/element-skipping.test.ts test/name-attributes.test.ts",
    "lint": "echo 'No linter configured'",
    "clean": "rimraf dist",
    "package": "npm run clean && npm run esbuild-prod && vsce package",
    "build": "npm run package",
    "audit": "npm audit"
  },
  "devDependencies": {
    "@types/minimatch": "^5.1.2",
    "@types/mocha": "^10.0.0",
    "@types/node": "^18.0.0",
    "@types/vscode": "^1.80.0",
    "@vscode/vsce": "^3.6.2",
    "esbuild": "^0.25.10",
    "mocha": "^10.2.0",
    "rimraf": "^6.0.1",
    "ts-node": "^10.9.1",
    "typescript": "^5.9.2"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/hoffsam/vscode.xpath-copier.git"
  },
  "license": "MIT",
  "dependencies": {
    "minimatch": "^10.0.3"
  }
}
